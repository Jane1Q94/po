{
    "advanceConfig":{
        "anomalyIndexShards":1,
        "clusterMsgMaxLength":1000,
        "refreshInterval":5,
        "dsGroups":[

        ],
        "esIndexPattern":"day",
        "executorNumber":1,
        "filter":"",
        "logIndexShards":2,
        "maxOutOfOrderInSeconds":10,
        "offset":"earliest",
        "outputVars":false,
        "persistOption":true,
        "taskManagerMem":2048,
        "contextField":"@rownumber",
        "contextFilterFields":"@path,@hostname",
        "derangementType":null,
        "derangementTime":null
    },
    "aggregationConfig":{
        "enable":true,
        "windows":0
    },
    "alertNoticeConfig":{
        "alertContent":"【${template_id}-${abnormal_name}】${source}聚类任务，【消息】${start_time}，应用：${bs_name}，分组信息：${host_field_value}，${agg_window}分钟内产生${value}条日志",
        "emailEnable":false,
        "emailTo":[

        ],
        "emailSubject":"日志告警: ${source}",
        "shellContent":"",
        "shellEnable":false
    },
    "alertRuleConfig":{
        "advancedCompaction":true,
        "compactionCount":2,
        "compactionMatchList":"",
        "compactionWindowSize":20,
        "warnCompactionType":"accumulate"
    },
    "attentionTemplates":[

    ],
    "clusterConfig":{
        "format_rule":"<content##[\s\S]*>",
        "replace_rule":[
            {
                "from":"\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}",
                "to":"$DateTime"
            },
            {
                "from":"https?://[^\s]+",
                "to":"$URL"
            },
            {
                "from":"\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}:\d{1,5}",
                "to":"$IPPort"
            },
            {
                "from":"\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}",
                "to":"$IP"
            },
            {
                "from":"(^|(?<=[^a-zA-Z\d\.]))\d+\.\d+(?=(\.?($|\s)|[^a-zA-Z\d\.]))",
                "to":"$NumFloat"
            }
        ],
        "seperator":{
            "type":"RegExp",
            "value":"[^\w\u4e00-\u9fff\-/@]+"
        },
        "keyword":{
            "type":"String",
            "value":""
        },
        "truncation":100,
        "similarity":0.5,
        "token_filter":{
            "ignore_digit":false,
            "ignore_replace_rule":false
        }
    },
    "cmdbInfo":{
        "serviceName":"",
        "serviceId":"",
        "field":"",
        "type":"dynamic"
    },
    "dataSource":{
        "fieldName":"@message",
        "previewCount":0,
        "sourceId":null,
        "timeField":"@timestamp",
        "timeFormat":"yyyy-MM-dd'T'HH:mm:ss.SSSZ",
        "timeType":"event",
        "timeZone":"GMT+08:00",
        "topic":"log.syslog",
        "type":"kafka",
        "addressId":2227299557900288
    },
    "description":"this is task description",
    "detectionConfig":{
        "enable":true,
        "featureDetectionConfig":{
            "accidentalDays":7,
            "accidentalEnable":true,
            "accidentalThreshold":0.01,
            "guardEnable":false,
            "guardLogThreshold":10000,
            "guardMinute":10,
            "startTime":1619074860095,
            "suddenDownEnable":true,
            "suddenDownExtremumEnable":true,
            "suddenDownFixedEnable":true,
            "suddenDownRateThreshold":5,
            "suddenDownSensitivity":3,
            "suddenDownSmoothEnable":true,
            "suddenDownTotalThreshold":10,
            "suddenDownWaveEnable":true,
            "suddenUpEnable":true,
            "suddenUpExtremumEnable":true,
            "suddenUpFixedEnable":true,
            "suddenUpRateThreshold":95,
            "suddenUpSensitivity":3,
            "suddenUpSmoothEnable":true,
            "suddenUpTotalThreshold":1000,
            "suddenUpWaveEnable":true,
            "type":"common",
            "windows":5
        },
        "neverEnable":true,
        "noLogEnable":true,
        "noLogStartTime":1618988460095,
        "noLogThreshold":10,
        "novelDays":7,
        "novelDaysEnable":true,
        "novelStartTime":1619074860095
    },
    "name":"this is task name",
    "trainConfig":{
        "separate":1,
        "startTime":"00:30",
        "strategy":"auto",
        "cycle":"day",
        "cycleNum":2,
        "dataInit":false,
        "taskType":"",
        "dataSource":null
    }
}